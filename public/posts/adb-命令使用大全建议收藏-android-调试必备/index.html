<!doctype html>
<html lang="zh-cn">
  <head>
    <title>ADB 命令使用大全（建议收藏） Android 调试必备 // CYRUS STUDIO</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.131.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <meta name="keywords" content="CYRUS STUDIO, 安卓逆向, Android Reverse Engineering, 移动开发, 安卓开发, Python">
    <meta name="robots" content="index, follow">
    <link rel="stylesheet" href="/blog/css/main.min.d970c1dc93ec518baa03345e73aafb7a5a0879e5830ca966a23c6d3552430ab1.css" />
    

    
  


    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ADB 命令使用大全（建议收藏） Android 调试必备">
  <meta name="twitter:description" content="版权归作者所有，如有转发，请注明文章出处：https://cyrus-studio.github.io/blog/
基础adb命令 # 重启adb adb kill-server# 查看已连接的设备adb devices# 进入命令行adb shell# 使用 -s 参数来指定设备adb -s &lt;设备序列号&gt; shell# 显示日志adb logcat 获取 API Level 进入 adb shell ，执行下面命令获取当前 Android 系统的 API Level（即 SDK 版本）：
getprop ro.build.version.sdk 以下是 Android 版本与 API Level 的对应表 （截至 Android 15）：
Android 版本 API Level 代号 发布时间 Android 15 35 Vanilla Ice Cream 2024年9月 Android 14 34 Upside Down Cake 2023年10月 Android 13 33 Tiramisu 2022年8月 Android 12L 32 2022年3月 Android 12 31 Snow Cone 2021年10月 Android 11 30 Red Velvet Cake 2020年9月 Android 10 29 Q 2019年9月 Android 9 28 Pie 2018年8月 Android 8.">

    <meta property="og:url" content="https://cyrus-studio.github.io/blog/posts/adb-%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E5%A4%A7%E5%85%A8%E5%BB%BA%E8%AE%AE%E6%94%B6%E8%97%8F-android-%E8%B0%83%E8%AF%95%E5%BF%85%E5%A4%87/">
  <meta property="og:site_name" content="CYRUS STUDIO">
  <meta property="og:title" content="ADB 命令使用大全（建议收藏） Android 调试必备">
  <meta property="og:description" content="版权归作者所有，如有转发，请注明文章出处：https://cyrus-studio.github.io/blog/
基础adb命令 # 重启adb adb kill-server# 查看已连接的设备adb devices# 进入命令行adb shell# 使用 -s 参数来指定设备adb -s &lt;设备序列号&gt; shell# 显示日志adb logcat 获取 API Level 进入 adb shell ，执行下面命令获取当前 Android 系统的 API Level（即 SDK 版本）：
getprop ro.build.version.sdk 以下是 Android 版本与 API Level 的对应表 （截至 Android 15）：
Android 版本 API Level 代号 发布时间 Android 15 35 Vanilla Ice Cream 2024年9月 Android 14 34 Upside Down Cake 2023年10月 Android 13 33 Tiramisu 2022年8月 Android 12L 32 2022年3月 Android 12 31 Snow Cone 2021年10月 Android 11 30 Red Velvet Cake 2020年9月 Android 10 29 Q 2019年9月 Android 9 28 Pie 2018年8月 Android 8.">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-22T14:12:55+08:00">
    <meta property="article:modified_time" content="2025-06-22T14:12:55+08:00">


  </head>
  <body>
    <header class="app-header">
      <a href="https://cyrus-studio.github.io/blog/"><img class="app-header-avatar" src="/blog/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">CYRUS STUDIO</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/blog/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/blog/about/">About</a>
             - 
          
          <a class="app-header-menu-item" href="https://github.com/CYRUS-STUDIO">GitHub</a>
      </nav>
      <p>公众号：CYRUS STUDIO</p>
      

      <div class="qrcode-container">
          <img src="/blog/gongzhonghao.jpg" alt="公众号二维码" class="qrcode-image">
          <p class="qrcode-text">扫码关注公众号</p>
      </div>

      <div class="visitor-counter">
   	    <img src="https://profile-counter.glitch.me/CYRUS-STUDIO-blog/count.svg" alt="Visitor Count">
	    </div>
    </header>
    <main class="app-container">
      
<article class="post">
  <header class="post-header">
    <meta charset="UTF-8"/>
    <h1 class="post-title">ADB 命令使用大全（建议收藏） Android 调试必备</h1>
    <div class="post-meta" style="display: flex; gap: 1em; flex-wrap: wrap; align-items: center;">
      <div>
        <span class="meta-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-eye">
  <title>eye</title>
  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>
</svg>
          阅读量: <span class="waline-pageview-count" data-path="/blog/posts/adb-%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E5%A4%A7%E5%85%A8%E5%BB%BA%E8%AE%AE%E6%94%B6%E8%97%8F-android-%E8%B0%83%E8%AF%95%E5%BF%85%E5%A4%87/"></span>
        </span>
      </div>
      <div>
        <span class="meta-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jun 22, 2025
        </span>
      </div>
      <div>
        <span class="meta-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          4 min read
        </span>
      </div>
    </div>

    <link
      rel="stylesheet"
      href="https://unpkg.com/@waline/client@v3/dist/waline.css"
    />

  </header>
  <div class="post-content">
    <blockquote>
<p>版权归作者所有，如有转发，请注明文章出处：<a href="https://cyrus-studio.github.io/blog/">https://cyrus-studio.github.io/blog/</a></p>
</blockquote>
<h1 id="基础adb命令">基础adb命令</h1>
<pre tabindex="0"><code># 重启adb 
adb kill-server

# 查看已连接的设备
adb devices

# 进入命令行
adb shell

# 使用 -s 参数来指定设备
adb -s &lt;设备序列号&gt; shell

# 显示日志
adb logcat
</code></pre><h1 id="获取-api-level">获取 API Level</h1>
<p>进入 adb shell ，执行下面命令获取当前 Android 系统的 API Level（即 SDK 版本）：</p>
<pre tabindex="0"><code>getprop ro.build.version.sdk
</code></pre><p>以下是 <strong>Android 版本与 API Level 的对应表</strong> （截至 Android 15）：</p>
<table>
<thead>
<tr>
<th>Android 版本</th>
<th>API Level</th>
<th>代号</th>
<th>发布时间</th>
</tr>
</thead>
<tbody>
<tr>
<td>Android 15</td>
<td>35</td>
<td>Vanilla Ice Cream</td>
<td>2024年9月</td>
</tr>
<tr>
<td>Android 14</td>
<td>34</td>
<td>Upside Down Cake</td>
<td>2023年10月</td>
</tr>
<tr>
<td>Android 13</td>
<td>33</td>
<td>Tiramisu</td>
<td>2022年8月</td>
</tr>
<tr>
<td>Android 12L</td>
<td>32</td>
<td></td>
<td>2022年3月</td>
</tr>
<tr>
<td>Android 12</td>
<td>31</td>
<td>Snow Cone</td>
<td>2021年10月</td>
</tr>
<tr>
<td>Android 11</td>
<td>30</td>
<td>Red Velvet Cake</td>
<td>2020年9月</td>
</tr>
<tr>
<td>Android 10</td>
<td>29</td>
<td>Q</td>
<td>2019年9月</td>
</tr>
<tr>
<td>Android 9</td>
<td>28</td>
<td>Pie</td>
<td>2018年8月</td>
</tr>
<tr>
<td>Android 8.1</td>
<td>27</td>
<td>Oreo</td>
<td>2017年12月</td>
</tr>
<tr>
<td>Android 8.0</td>
<td>26</td>
<td>Oreo</td>
<td>2017年8月</td>
</tr>
<tr>
<td>Android 7.1</td>
<td>25</td>
<td>Nougat</td>
<td>2016年10月</td>
</tr>
<tr>
<td>Android 7.0</td>
<td>24</td>
<td>Nougat</td>
<td>2016年8月</td>
</tr>
<tr>
<td>Android 6.0</td>
<td>23</td>
<td>Marshmallow</td>
<td>2015年10月</td>
</tr>
<tr>
<td>Android 5.1</td>
<td>22</td>
<td>Lollipop</td>
<td>2015年3月</td>
</tr>
<tr>
<td>Android 5.0</td>
<td>21</td>
<td>Lollipop</td>
<td>2014年11月</td>
</tr>
</tbody>
</table>
<h1 id="获取-apk-安装路径">获取 apk 安装路径</h1>
<p>获取指定包名的 APK 路径</p>
<pre tabindex="0"><code>adb shell pm path com.shizhuang.duapp

package:/data/app/com.shizhuang.duapp-fTxemmnM8l6298xbBELksQ==/base.apk
</code></pre><p>将 APK 文件拉取到本地</p>
<pre tabindex="0"><code>adb pull /data/app/com.shizhuang.duapp-fTxemmnM8l6298xbBELksQ==/base.apk
</code></pre><h1 id="获取-activity-信息">获取 Activity 信息</h1>
<p>进入 adb shell</p>
<pre tabindex="0"><code># 获取设备上当前运行的 Activity
dumpsys activity activities | grep &#34;mResumedActivity&#34;

# 获取活动栈中的所有 Activity，并从中提取出最近的 5 个 Activity
dumpsys activity activities | grep &#34;Hist #&#34; | head -n 5
</code></pre><h1 id="获取当前应用包名">获取当前应用包名</h1>
<p>Mac/Linux：</p>
<pre tabindex="0"><code>adb shell dumpsys activity activities | grep &#34;mResumedActivity&#34;
</code></pre><p>Windows：</p>
<pre tabindex="0"><code>adb shell dumpsys activity activities | findstr &#34;mResumedActivity&#34;
</code></pre><p>调用实例：</p>
<pre tabindex="0"><code>(base) PS D:\test&gt; adb shell dumpsys activity activities | findstr &#34;mResumedActivity&#34;
    mResumedActivity: ActivityRecord{b40059e u0 com.shizhuang.duapp/.du_login.optimize.LoginContainerActivityV2 t110}
</code></pre><p>其中 com.shizhuang.duapp 就是当前应用的包名</p>
<h1 id="获取进程信息">获取进程信息</h1>
<pre tabindex="0"><code># 显示当前系统中正在运行的进程信息、CPU、内存使用率等
top

# 列出当前所有进程
ps -A

# 列出名称包含 fs 的进程
ps -A | grep fs

# 获取 1234 端口进程的 pid
lsof | grep 1234

# 根据包名获取 pid
pidof com.shizhuang.duapp

# 查看进程状态(如果 TracerPid&gt;0 表示被调试状态，TracerPid 就是跟踪调试的 进程id)
cat /proc/pid/status
</code></pre><h1 id="进程管理">进程管理</h1>
<pre tabindex="0"><code># 停止指定进程 
kill pid

# 强制停止指定进程
kill -9 pid

# 暂停进程
kill -19 pid

# 继续进程
kill -18 pid
</code></pre><h1 id="文件管理">文件管理</h1>
<pre tabindex="0"><code># 拉取文件/目录到本地
adb pull /data/app/com.shizhuang.duapp-fTxemmnM8l6298xbBELksQ== D:\temp

# 使用cat命令查看文件的内容
cat filename.txt

# 当目录不存在自动创建目录
mkdir -p /sdcard/dump_dex

# 复制文件（目录必须存在）
cp /data/data/com.shizhuang.duapp/8681372.dex /sdcard/dump_dex

# 复制文件并自动创建目录
mkdir -p /sdcard/dump_dex &amp;&amp; cp /data/data/com.shizhuang.duapp/8681372.dex /sdcard/dump_dex/

# 移动文件
mv /data/data/com.shizhuang.duapp/8681372.dex /sdcard/dump_dex
</code></pre><h1 id="删除文件目录">删除文件/目录</h1>
<p>删除单个文件：</p>
<pre tabindex="0"><code>rm file.txt
</code></pre><p>删除多个文件：</p>
<pre tabindex="0"><code>rm file1.txt file2.log
</code></pre><p>删除所有 txt 文件</p>
<pre tabindex="0"><code>rm mydir/*.txt
</code></pre><p>删除空目录（只能删除空目录）：</p>
<pre tabindex="0"><code>rmdir mydir/
</code></pre><p>删除整个目录及其内容，可以使用下面的命令：</p>
<pre tabindex="0"><code>rm -r mydir
</code></pre><p>如果你想更安全些，可以加 -i，逐个确认：</p>
<pre tabindex="0"><code>rm -ri mydir
</code></pre><p>如果你要强制删除，不显示任何提示，可以用：</p>
<pre tabindex="0"><code>rm -rf mydir
</code></pre><h1 id="查找文件目录">查找文件/目录</h1>
<p>查找 /data 路径下所有名字包含 com.cyrus.example 的文件或目录</p>
<pre tabindex="0"><code> find /data -iname &#39;*com.cyrus.example*&#39;
</code></pre><h1 id="查找包含指定内容的文件">查找包含指定内容的文件</h1>
<pre tabindex="0"><code>grep -rl &#34;关键字&#34; .
</code></pre><p>参数说明：</p>
<ul>
<li>
<p>grep: 文本搜索工具</p>
</li>
<li>
<p>-r: 递归查找目录下的所有文件</p>
</li>
<li>
<p>-l: 只输出匹配的文件名（不输出匹配内容）</p>
</li>
<li>
<p>&ldquo;关键字&rdquo;: 你要查找的字符串</p>
</li>
<li>
<p>.: 当前目录</p>
</li>
</ul>
<p>示例：</p>
<pre tabindex="0"><code>wayne:/data/data/com.cyrus.example/cyrus # grep -rl &#34;ba0.g&#34; .
./1437648_class_list_execute.txt
./1437648_class_list.txt
./1437648_ins_12347.bin
./1437648_ins_13638.bin
</code></pre><p>如需过滤特定文件类型（例如只查 .txt）：</p>
<pre tabindex="0"><code>wayne:/data/data/com.cyrus.example/cyrus # grep -r &#34;ba0.g&#34; *.txt
1437648_class_list.txt:Lba0/g;
1437648_class_list_execute.txt:Lba0/g;
</code></pre><h1 id="查看文件详细信息">查看文件详细信息</h1>
<p>通过 adb shell 进入命令行通过 ls -alh 查看当前路径下所有文件。</p>
<pre tabindex="0"><code>wayne:/sdcard # ls -alh
total 32M
drwxrwx--x 15 root sdcard_rw 3.4K 2024-09-23 17:52 .
drwx--x--x  3 root sdcard_rw 3.4K 2024-09-16 18:43 ..
-rw-rw----  1 root sdcard_rw   88 2024-09-18 12:03 .thumbcache_idx_001
drwxrwx--x  2 root sdcard_rw 3.4K 2024-09-16 18:43 Alarms
drwxrwx--x  5 root sdcard_rw 3.4K 2024-09-18 00:25 Android
</code></pre><p>通过 stat 命令查看更加详细的文件信息，包括访问时间、修改时间、文件类型和 inode 号等。</p>
<pre tabindex="0"><code>wayne:/sdcard # stat /sdcard/Android
  File: /sdcard/Android
  Size: 3488     Blocks: 7       IO Blocks: 512 directory
Device: 1ch/28d  Inode: 2999     Links: 5
Access: (0771/drwxrwx--x)       Uid: (    0/    root)   Gid: ( 1015/sdcard_rw)
Access: 2024-09-16 18:43:38.453334673 +0800
Modify: 2024-09-18 00:25:03.481711645 +0800
Change: 2024-09-18 00:25:03.481711645 +0800
</code></pre><p>通过 file 命令查看文件类型</p>
<pre tabindex="0"><code>wayne:/sdcard # file Magisk-v27.0.apk
Magisk-v27.0.apk: Zip archive data
</code></pre><p>head 用于查看文本文件的前几行内容，默认是前 10 行。</p>
<pre tabindex="0"><code>wayne:/sdcard # head /proc/cpuinfo
Processor       : AArch64 Processor rev 4 (aarch64)
processor       : 0
BogoMIPS        : 38.00
Features        : fp asimd evtstrm aes pmull sha1 sha2 crc32
CPU implementer : 0x51
CPU architecture: 8
CPU variant     : 0xa
CPU part        : 0x801
CPU revision    : 4
</code></pre><p>-n &lt;行数&gt;：指定要显示的行数。</p>
<pre tabindex="0"><code>wayne:/sdcard # head -n 5 /system/build.prop

# begin common build properties
# autogenerated by build/make/tools/buildinfo_common.sh
ro.system.build.date=Mon Sep 16 18:43:25 CST 2024
ro.system.build.date.utc=1726483405
</code></pre><h1 id="编辑文件">编辑文件</h1>
<p>编辑文件</p>
<pre tabindex="0"><code>vim a.log
</code></pre><p>如果文件不存在，vim 会创建一个新的。</p>
<p>打开后，你默认处于 “普通模式” ，此时按：</p>
<pre tabindex="0"><code>i
</code></pre><p>此时屏幕左下角会显示 &ndash; INSERT &ndash;，表示你现在可以开始输入内容。</p>
<p>按下 Esc 键即可退出插入模式，回到普通模式。</p>
<p>在普通模式下，输入以下命令退出 vim</p>
<pre tabindex="0"><code>:wq   ↵   # 保存并退出
:q!   ↵   # 不保存直接退出
</code></pre><p>其他常用命令：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>命令（普通模式）</th>
</tr>
</thead>
<tbody>
<tr>
<td>插入（光标前）</td>
<td>i</td>
</tr>
<tr>
<td>插入（新行）</td>
<td>o</td>
</tr>
<tr>
<td>删除整行</td>
<td>dd</td>
</tr>
<tr>
<td>撤销</td>
<td>u</td>
</tr>
<tr>
<td>保存但不退出</td>
<td>:w + Enter</td>
</tr>
<tr>
<td>不保存强制退出</td>
<td>:q! + Enter</td>
</tr>
<tr>
<td>移动光标上下左右</td>
<td>使用方向键或 h j k l</td>
</tr>
</tbody>
</table>
<h1 id="截图">截图</h1>
<pre tabindex="0"><code># 截图
adb shell screencap /sdcard/screenshot.png
# 将截图从设备复制到电脑
adb pull /sdcard/screenshot.png
# 删除设备中的截图文件
adb shell rm /sdcard/screenshot.png
</code></pre><h1 id="logcat">Logcat</h1>
<h2 id="1-过滤出-error-日志e级别">1. 过滤出 Error 日志（E级别）</h2>
<pre tabindex="0"><code>adb logcat *:E
</code></pre><p>日志优先级从低到高依次为：</p>
<ul>
<li>
<p>V - Verbose</p>
</li>
<li>
<p>D - Debug</p>
</li>
<li>
<p>I - Info</p>
</li>
<li>
<p>W - Warn</p>
</li>
<li>
<p>E - Error</p>
</li>
<li>
<p>F - Fatal</p>
</li>
<li>
<p>S - Silent (屏蔽所有日志)</p>
</li>
</ul>
<h2 id="2-过滤指定包名的日志">2. 过滤指定包名的日志</h2>
<p>先启动app 再执行下面的命令</p>
<pre tabindex="0"><code>adb logcat --pid=$(adb shell pidof com.cyrus.example)
</code></pre><h2 id="3-过滤包含指定字符串的日志">3. 过滤包含指定字符串的日志</h2>
<p>linux / mac：</p>
<pre tabindex="0"><code>adb logcat | grep &#34;关键字&#34;
</code></pre><p>windows：</p>
<pre tabindex="0"><code>adb logcat | Select-String &#34;关键字&#34;
</code></pre><h2 id="4-按-tag-和-level-过滤">4. 按 Tag 和 Level 过滤</h2>
<pre tabindex="0"><code>adb logcat System.err:D *:S
</code></pre><p>表示只显示 System.err 的 Debug 日志，其他 tag 的都不显示。</p>
<p>说明：</p>
<ul>
<li>
<p>第一个参数指定 System.err:D，设置该 tag 日志级别为 D（Debug）</p>
</li>
<li>
<p>第二个参数 *:S 把其他所有 tag 的日志设为 Silent</p>
</li>
</ul>
<h2 id="5-清空日志缓存">5. 清空日志缓存</h2>
<pre tabindex="0"><code>adb logcat -c
</code></pre><h2 id="6-输出日志到文件">6. 输出日志到文件</h2>
<pre tabindex="0"><code>adb logcat -v time &gt; logcat.txt
</code></pre><ul>
<li>
<p>-v time：显示时间戳（还有 brief, process, tag, raw, threadtime, long）</p>
</li>
<li>
<p>输出保存到文件中</p>
</li>
</ul>
<h2 id="7-结合多种过滤方式">7. 结合多种过滤方式</h2>
<p>举例：过滤包名为 com.cyrus.example 的 Error 级别日志，并包含字符串 Exception：</p>
<pre tabindex="0"><code>adb logcat --pid=$(adb shell pidof com.cyrus.example) *:E | grep &#34;Exception&#34;
</code></pre><p>windows：</p>
<pre tabindex="0"><code>adb logcat --pid=$(adb shell pidof com.cyrus.example) *:E | Select-String &#34;Exception&#34;
</code></pre><h1 id="procselfmaps">/proc/self/maps</h1>
<p>/proc/self/maps 是 Linux（含 Android）系统中一个非常重要的伪文件，它提供了当前进程内存映射（memory mapping）信息，是分析当前进程加载了哪些资源的重要窗口。</p>
<p>包括：</p>
<ul>
<li>
<p>加载的 .so 动态库</p>
</li>
<li>
<p>加载的 .dex 文件（包含 ODEX / VDEX）</p>
</li>
<li>
<p>映射的 Java 堆、native 堆、stack 等</p>
</li>
<li>
<p>匿名 mmap 内存区域</p>
</li>
<li>
<p>JIT 编译生成的代码段</p>
</li>
<li>
<p>映射的 /system/, /data/, /apex/, /dev/ashmem 等文件</p>
</li>
</ul>
<p>进入 adb shell 执行下面命令读取 maps</p>
<pre tabindex="0"><code>cat /proc/$(pidof &lt;packageName&gt;)/maps
</code></pre><p>示例：</p>
<pre tabindex="0"><code>wayne:/ # cat /proc/$(pidof com.shizhuang.duapp)/maps | grep GameVMP
7b6ae7c000-7b6ae7d000 r--p 0001d000 103:20 19266                         /data/app/com.shizhuang.duapp-fTxemmnM8l6298xbBELksQ==/lib/arm64/libGameVMP.so
7b6ae7d000-7b6ae7f000 rw-p 0001e000 103:20 19266                         /data/app/com.shizhuang.duapp-fTxemmnM8l6298xbBELksQ==/lib/arm64/libGameVMP.so
</code></pre>
  </div>


  <div class="post-footer">

    
    

    
    <hr class="section-divider" />

    <div id="waline"></div>
    <script type="module">
      import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

      init({
        el: '#waline',
        serverURL: 'https://waline-15wtwfoa7-cyrus-studios-projects.vercel.app',
        path: location.pathname, 
        pageview: true,          
      });
    </script>
  </div>

</article>



<div id="toc" class="toc-container hidden"></div>


<button id="toc-toggle" class="toc-toggle" aria-label="目录">
  &#9776;
</button>


<script src="/blog/js/toc.js"></script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
      
      document.querySelectorAll('pre').forEach(function(block) {
          
          var button = document.createElement('button');
          button.className = 'copy-btn';
          button.textContent = '复制';

          
          block.appendChild(button);

          
          var clipboard = new ClipboardJS(button, {
              target: function() {
                  return block.querySelector('code');
              }
          });

          
          clipboard.on('success', function(e) {
              e.trigger.textContent = '复制成功';
              setTimeout(function() {
                  e.trigger.textContent = '复制';
              }, 2000);
          });

          
          clipboard.on('error', function(e) {
              e.trigger.textContent = '复制失败';
          });
      });
  });
</script>



    </main>
  </body>
</html>
